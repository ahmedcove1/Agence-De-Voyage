{% extends 'base.html.twig' %}

{% block title %}Circuit {{circuitProgramme.id}}{% endblock %}
{% block stylesheets %}

<link href="https://fonts.googleapis.com/css?family=Charmonman|Roboto+Condensed" rel="stylesheet">

{% endblock %}

{% block main %}
    <h1 style="text-align:center; margin-bottom: 2%;padding-top:5%;font-family: 'Roboto Condensed', sans-serif;">  {{ circuitProgramme.circuit.paysDepart }} le  {{ circuitProgramme.dateDepart|date('d/m/Y')  }} </h1>
  <h2 style="font-family: 'Charmonman', cursive; text-align:center;">" {{ circuitProgramme.circuit.description }} " </h2>

    <h2 style="font-family: 'Charmonman', cursive; text-align:center;">{{ circuitProgramme.circuit.dureeCircuit }} jours de détente!</h2>
 <h1 style="text-align:center; margin-bottom: 2%;padding-top:5%;font-family: 'Roboto Condensed', sans-serif;">Étapes du circuit: </h1>

{% if circuitProgramme.circuit.etapes is not empty %}

<div id="carouselExampleIndicators" class="carousel slide " data-ride="carousel">
  <ol class="carousel-indicators">
      {% for etape in circuitProgramme.circuit.etapes %}
    {% if etape.numeroEtape == 1 %}
    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
    {% else %}
    <li data-target="#carouselExampleIndicators" data-slide-to="{{ etape.numeroEtape-1 }}"></li>
    {% endif %}
    {% endfor %}
  </ol>
  <div class="carousel-inner">
{% for etape in circuitProgramme.circuit.etapes %}
{% if etape.numeroEtape == 1 %}
<div class="carousel-item active crop">
{% else %}
<div class="carousel-item crop">
{% endif %}
  <img src="{{ etape.url_image }}" alt="{{ etape.villeEtape }}">
  <div class="carousel-caption d-none d-md-block">
    <h3>{{etape.nombreJours}} jour(s) à {{ etape.villeEtape }}</h3>
  </div>
</div>
{% endfor %}
    </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>


 {% else %}
                <h1 style="text-align:center; margin-bottom: 5%;padding-top:5%;font-family: 'Roboto Condensed', sans-serif;">no etapes found</h1>
{% endif %}

<br>
{% if circuitProgramme.nombrePersonnes == 0 %}
<center> Il n'y a plus de place pour ce circuit </center>
<table width=100%>
<th>
<span href="#" style="display:block; margin:auto; margin-top:0.5%;" class="btn btn-success" role="button"  data-role="disabled" >Réserver</span><th>
{%else%}
<center> Nombre de place disponible : {{circuitProgramme.nombrePersonnes}} </center>
<table width=100%>
<th>
<a href="http://localhost:8000/reservation/{{circuitProgramme.id}}/reserver" style="display:block; margin:auto; margin-top:0.5%;" class="btn btn-success" role="button"  >Réserver</a><th>
{%endif%}
<a href="{{ path('frontoffice_home') }}" style="display:block; margin:auto; margin-top:0.5%;" class="btn btn-danger" role="button">Retour</a>
</table>
{% endblock %}
